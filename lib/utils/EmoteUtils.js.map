{"version":3,"sources":["../../src/utils/EmoteUtils.js"],"names":["CDN","twitch","v1","low","medium","high","v2","ffz","getCDN","type","isV2","normalizeCDN","id","cdn","startsWith","replace","normalizeTwitchEmotes","emotes","emotesParsed","emote","push","code","name","owner","normalizeFFZEmotes","sets","setIds","Object","keys","setId","emoticons"],"mappings":";;;;;;;;;;;;;;;AAAA,IAAMA,GAAG,GAAG;AACRC,EAAAA,MAAM,EAAE;AACJC,IAAAA,EAAE,EAAE;AACAC,MAAAA,GAAG,sDADH;AAEAC,MAAAA,MAAM,sDAFN;AAGAC,MAAAA,IAAI;AAHJ,KADA;AAOJC,IAAAA,EAAE,EAAE;AACAH,MAAAA,GAAG,mEADH;AAEAC,MAAAA,MAAM,mEAFN;AAGAC,MAAAA,IAAI;AAHJ;AAPA,GADA;AAeRE,EAAAA,GAAG,EAAE;AACDL,IAAAA,EAAE,EAAE;AACAC,MAAAA,GAAG,6CADH;AAEAC,MAAAA,MAAM,6CAFN;AAGAC,MAAAA,IAAI;AAHJ;AADH;AAfG,CAAZ;;AAwBA,SAASG,MAAT,CAAiBC,IAAjB,EAAuBC,IAAvB,EAA6B;AACzB,SAAOA,IAAI,GAAGV,GAAG,CAACS,IAAD,CAAH,CAAU,IAAV,CAAH,GAAqBT,GAAG,CAACS,IAAD,CAAH,CAAU,IAAV,CAAhC;AACH;;AAEM,SAASE,YAAT,CAAuBC,EAAvB,EAA2BH,IAA3B,EAAiC;AACpC,MAAMI,GAAG,GAAGL,MAAM,CAACC,IAAD,EAAOG,EAAE,CAACE,UAAH,CAAc,WAAd,CAAP,CAAlB;AAEA,SAAO;AACHX,IAAAA,GAAG,EAAEU,GAAG,CAACV,GAAJ,CAAQY,OAAR,CAAgB,MAAhB,EAAwBH,EAAxB,CADF;AAEHR,IAAAA,MAAM,EAAES,GAAG,CAACT,MAAJ,CAAWW,OAAX,CAAmB,MAAnB,EAA2BH,EAA3B,CAFL;AAGHP,IAAAA,IAAI,EAAEQ,GAAG,CAACR,IAAJ,CAASU,OAAT,CAAiB,MAAjB,EAAyBH,EAAzB;AAHH,GAAP;AAKH;;AAEM,SAASI,qBAAT,CAAgCC,MAAhC,EAAwC;AAC3C,MAAIC,YAAY,GAAG,EAAnB;;AAD2C,6CAGzBD,MAHyB;AAAA;;AAAA;AAG3C,wDAA0B;AAAA,UAAjBE,KAAiB;AACtBD,MAAAA,YAAY,CAACE,IAAb,CAAkB;AACdX,QAAAA,IAAI,EAAE,QADQ;AAEdG,QAAAA,EAAE,EAAEO,KAAK,CAACP,EAFI;AAGdS,QAAAA,IAAI,EAAEF,KAAK,CAACG,IAHE;AAIdC,QAAAA,KAAK,EAAEJ,KAAK,CAACP,EAJC;AAKdC,QAAAA,GAAG,EAAEF,YAAY,CAACQ,KAAK,CAACP,EAAP,EAAW,QAAX;AALH,OAAlB;AAOH;AAX0C;AAAA;AAAA;AAAA;AAAA;;AAa3C,SAAOM,YAAP;AACH;;AAEM,SAASM,kBAAT,CAA6BC,IAA7B,EAAmC;AACtC,MAAIR,MAAM,GAAG,EAAb;AACA,MAAIS,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYH,IAAI,IAAI,EAApB,CAAb;;AAEA,6BAAkBC,MAAlB,6BAA0B;AAArB,QAAIG,KAAK,cAAT;AACD,QAAMC,SAAN,GAAoBL,IAAI,CAACI,KAAD,CAAxB,CAAMC,SAAN;;AADsB,gDAEJA,SAFI;AAAA;;AAAA;AAEtB,6DAA6B;AAAA,YAApBX,KAAoB;AACzBF,QAAAA,MAAM,CAACG,IAAP,CAAY;AACRX,UAAAA,IAAI,EAAE,KADE;AAERG,UAAAA,EAAE,EAAEO,KAAK,CAACP,EAFF;AAGRS,UAAAA,IAAI,EAAEF,KAAK,CAACG,IAHJ;AAIRC,UAAAA,KAAK,EAAEJ,KAAK,CAACI,KAAN,CAAYD,IAJX;AAKRT,UAAAA,GAAG,EAAEF,YAAY,CAACQ,KAAK,CAACP,EAAN,GAAW,EAAZ,EAAgB,KAAhB;AALT,SAAZ;AAOH;AAVqB;AAAA;AAAA;AAAA;AAAA;AAWzB;;AAED,SAAOK,MAAP;AACH","sourcesContent":["const CDN = {\r\n    twitch: {\r\n        v1: {\r\n            low: `https://static-cdn.jtvnw.net/emoticons/v1/{id}/1.0`,\r\n            medium: `https://static-cdn.jtvnw.net/emoticons/v1/{id}/2.0`,\r\n            high: `https://static-cdn.jtvnw.net/emoticons/v1/{id}/3.0`,\r\n        },\r\n\r\n        v2: {\r\n            low: `https://static-cdn.jtvnw.net/emoticons/v2/{id}/default/dark/1.0`,\r\n            medium: `https://static-cdn.jtvnw.net/emoticons/v2/{id}/default/dark/2.0`,\r\n            high: `https://static-cdn.jtvnw.net/emoticons/v2/{id}/default/dark/3.0`,\r\n        }\r\n    },\r\n\r\n    ffz: {\r\n        v1: {\r\n            low: `https://cdn.frankerfacez.com/emote/{id}/1`,\r\n            medium: `https://cdn.frankerfacez.com/emote/{id}/2`,\r\n            high: `https://cdn.frankerfacez.com/emote/{id}/4`\r\n        }\r\n    }\r\n}\r\n\r\nfunction getCDN (type, isV2) {\r\n    return isV2 ? CDN[type][\"v2\"] : CDN[type][\"v1\"]\r\n}\r\n\r\nexport function normalizeCDN (id, type) {\r\n    const cdn = getCDN(type, id.startsWith(\"emotesv2_\"));\r\n\r\n    return {\r\n        low: cdn.low.replace(\"{id}\", id),\r\n        medium: cdn.medium.replace(\"{id}\", id),\r\n        high: cdn.high.replace(\"{id}\", id)\r\n    }\r\n}\r\n\r\nexport function normalizeTwitchEmotes (emotes) {\r\n    let emotesParsed = [];\r\n\r\n    for (let emote of emotes) {\r\n        emotesParsed.push({\r\n            type: \"twitch\",\r\n            id: emote.id,\r\n            code: emote.name,\r\n            owner: emote.id,\r\n            cdn: normalizeCDN(emote.id, \"twitch\")\r\n        })\r\n    }\r\n\r\n    return emotesParsed;\r\n}\r\n\r\nexport function normalizeFFZEmotes (sets) {\r\n    let emotes = [];\r\n    let setIds = Object.keys(sets || {});\r\n\r\n    for (let setId of setIds) {\r\n        let { emoticons } = sets[setId];\r\n        for (let emote of emoticons) {\r\n            emotes.push({\r\n                type: \"ffz\",\r\n                id: emote.id,\r\n                code: emote.name,\r\n                owner: emote.owner.name,\r\n                cdn: normalizeCDN(emote.id + \"\", \"ffz\")\r\n            });\r\n        }\r\n    }\r\n\r\n    return emotes;\r\n}"],"file":"EmoteUtils.js"}